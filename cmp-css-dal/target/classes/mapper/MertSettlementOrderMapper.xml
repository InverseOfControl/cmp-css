<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ipaylinks.cmp.css.dal.mapper.MertSettlementOrderMapper">
  <resultMap id="BaseResultMap" type="com.ipaylinks.cmp.css.dal.model.MertSettlementOrder">
    <!--
      @MBG Generated
      This element is automatically generated by MyBatis Generator,Do not modify ! Generated on Thu May 24 17:03:46 CST 2018.
    -->
    <id column="ID" jdbcType="VARCHAR" property="id" />
    <result column="MERCHANT_ID" jdbcType="VARCHAR" property="merchantId" />
    <result column="MERCHANT_NAME" jdbcType="VARCHAR" property="merchantName" />
    <result column="SETTLE_TYPE" jdbcType="VARCHAR" property="settleType" />
    <result column="SETTLE_CURRENCY" jdbcType="VARCHAR" property="settleCurrency" />
    <result column="SETTLE_AMOUNT" jdbcType="DECIMAL" property="settleAmount" />
    <result column="FEE_SETTLE_METHOD" jdbcType="VARCHAR" property="feeSettleMethod" />
    <result column="SETTLEMENT_DATE" jdbcType="VARCHAR" property="settlementDate" />
    <result column="ORDER_BEGIN_DATE" jdbcType="VARCHAR" property="orderBeginDate" />
    <result column="ORDER_END_DATE" jdbcType="VARCHAR" property="orderEndDate" />
    <result column="SETTLEMENT_SUMMARY_ID" jdbcType="VARCHAR" property="settlementSummaryId" />
    <result column="SUMMARY_STATUS" jdbcType="VARCHAR" property="summaryStatus" />
    <result column="ACCOUNTING_STATUS" jdbcType="VARCHAR" property="accountingStatus" />
    <result column="ACCOUNTING_ID" jdbcType="VARCHAR" property="accountingId" />
    <result column="ACCOUNTING_TIME" jdbcType="TIMESTAMP" property="accountingTime" />
    <result column="GMT_CREATE_TIME" jdbcType="TIMESTAMP" property="gmtCreateTime" />
    <result column="GMT_UPDATE_TIME" jdbcType="TIMESTAMP" property="gmtUpdateTime" />
    <result column="TRANS_TYPE" jdbcType="VARCHAR" property="transType" />
    <result column="AMOUNT_TYPE" jdbcType="VARCHAR" property="amountType" />
    <result column="TRANS_CURRENCY" jdbcType="VARCHAR" property="transCurrency" />
    <result column="TRANS_AMOUNT" jdbcType="DECIMAL" property="transAmount" />
    <result column="SETTLEMENT_ORDER_ID" jdbcType="VARCHAR" property="settlementOrderId" />
     <result column="IS_VALID" jdbcType="VARCHAR" property="isValid" />
  </resultMap>
  
  <resultMap id="BaseResultSettleAmountMap" type="com.ipaylinks.cmp.css.dal.model.MertSettlementOrder">
     <result column="MERCHANT_ID" jdbcType="VARCHAR" property="merchantId" />
     <result column="SETTLE_AMOUNT" jdbcType="DECIMAL" property="settleAmount" />
     <result column="SETTLEMENT_ORDER_ID" jdbcType="VARCHAR" property="settlementOrderId" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      @MBG Generated
      This element is automatically generated by MyBatis Generator,Do not modify ! Generated on Thu May 24 17:03:46 CST 2018.
    -->
    ID, MERCHANT_ID, MERCHANT_NAME, SETTLE_TYPE, SETTLE_CURRENCY, SETTLE_AMOUNT, FEE_SETTLE_METHOD, 
    SETTLEMENT_DATE, ORDER_BEGIN_DATE, ORDER_END_DATE, SETTLEMENT_SUMMARY_ID, SUMMARY_STATUS, 
    ACCOUNTING_STATUS, ACCOUNTING_ID, ACCOUNTING_TIME, GMT_CREATE_TIME, GMT_UPDATE_TIME,TRANS_TYPE,AMOUNT_TYPE,TRANS_CURRENCY,TRANS_AMOUNT,SETTLEMENT_ORDER_ID,IS_VALID
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      @MBG Generated
      This element is automatically generated by MyBatis Generator,Do not modify ! Generated on Thu May 24 17:03:46 CST 2018.
    -->
    select 
    <include refid="Base_Column_List" />
    from T_MERT_SETTLEMENT_ORDER
    where ID = #{id,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      @MBG Generated
      This element is automatically generated by MyBatis Generator,Do not modify ! Generated on Thu May 24 17:03:46 CST 2018.
    -->
    delete from T_MERT_SETTLEMENT_ORDER
    where ID = #{id,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.ipaylinks.cmp.css.dal.model.MertSettlementOrder">
    <!--
      @MBG Generated
      This element is automatically generated by MyBatis Generator,Do not modify ! Generated on Thu May 24 17:03:46 CST 2018.
    -->
    insert into T_MERT_SETTLEMENT_ORDER (ID, MERCHANT_ID, MERCHANT_NAME, 
      SETTLE_TYPE, SETTLE_CURRENCY, SETTLE_AMOUNT, 
      FEE_SETTLE_METHOD, SETTLEMENT_DATE, ORDER_BEGIN_DATE, 
      ORDER_END_DATE, SETTLEMENT_SUMMARY_ID, SUMMARY_STATUS, 
      ACCOUNTING_STATUS, ACCOUNTING_ID, ACCOUNTING_TIME, 
      GMT_CREATE_TIME, GMT_UPDATE_TIME,TRANS_TYPE,AMOUNT_TYPE,TRANS_CURRENCY,TRANS_AMOUNT,SETTLEMENT_ORDER_ID,IS_VALID)
    values (#{id,jdbcType=VARCHAR}, #{merchantId,jdbcType=VARCHAR}, #{merchantName,jdbcType=VARCHAR}, 
      #{settleType,jdbcType=VARCHAR}, #{settleCurrency,jdbcType=VARCHAR}, #{settleAmount,jdbcType=DECIMAL}, 
      #{feeSettleMethod,jdbcType=VARCHAR}, #{settlementDate,jdbcType=VARCHAR}, #{orderBeginDate,jdbcType=VARCHAR}, 
      #{orderEndDate,jdbcType=VARCHAR}, #{settlementSummaryId,jdbcType=VARCHAR}, #{summaryStatus,jdbcType=VARCHAR}, 
      #{accountingStatus,jdbcType=VARCHAR}, #{accountingId,jdbcType=VARCHAR}, #{accountingTime,jdbcType=TIMESTAMP}, 
      #{gmtCreateTime,jdbcType=TIMESTAMP}, #{gmtUpdateTime,jdbcType=TIMESTAMP},
      #{transType,jdbcType=VARCHAR}, #{amountType,jdbcType=VARCHAR} ,#{transCurrency,jdbcType=VARCHAR}, 
      #{transAmount,jdbcType=DECIMAL} ,#{settlementOrderId,jdbcType=VARCHAR},#{isValid,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.ipaylinks.cmp.css.dal.model.MertSettlementOrder" useGeneratedKeys="true" keyProperty="id">
     <selectKey resultType="java.lang.String" keyProperty="id" order="BEFORE">
      SELECT '110'||TO_CHAR(SYSDATE, 'yymmdd')||SEQ_CYCLE_FOR_ID.nextval FROM DUAL
    </selectKey>
    insert into T_MERT_SETTLEMENT_ORDER
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        ID,
      </if>
      <if test="merchantId != null">
        MERCHANT_ID,
      </if>
      <if test="merchantName != null">
        MERCHANT_NAME,
      </if>
      <if test="settleType != null">
        SETTLE_TYPE,
      </if>
      <if test="settleCurrency != null">
        SETTLE_CURRENCY,
      </if>
      <if test="settleAmount != null">
        SETTLE_AMOUNT,
      </if>
      <if test="feeSettleMethod != null">
        FEE_SETTLE_METHOD,
      </if>
      <if test="settlementDate != null">
        SETTLEMENT_DATE,
      </if>
      <if test="orderBeginDate != null">
        ORDER_BEGIN_DATE,
      </if>
      <if test="orderEndDate != null">
        ORDER_END_DATE,
      </if>
      <if test="settlementSummaryId != null">
        SETTLEMENT_SUMMARY_ID,
      </if>
      <if test="summaryStatus != null">
        SUMMARY_STATUS,
      </if>
      <if test="accountingStatus != null">
        ACCOUNTING_STATUS,
      </if>
      <if test="accountingId != null">
        ACCOUNTING_ID,
      </if>
      <if test="accountingTime != null">
        ACCOUNTING_TIME,
      </if>
      <if test="gmtCreateTime != null">
        GMT_CREATE_TIME,
      </if>
      <if test="gmtUpdateTime != null">
        GMT_UPDATE_TIME,
      </if>
      <if test="transType != null">
         TRANS_TYPE,
      </if>
      <if test="amountType != null">
          AMOUNT_TYPE,
      </if>
      <if test="transCurrency != null">
         TRANS_CURRENCY,
      </if> 
      <if test="transAmount != null">
         TRANS_AMOUNT ,
      </if>  
      <if test="settlementOrderId != null">
        SETTLEMENT_ORDER_ID,
      </if>  
       <if test="isValid != null">
        IS_VALID,
      </if>  
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=VARCHAR},
      </if>
      <if test="merchantId != null">
        #{merchantId,jdbcType=VARCHAR},
      </if>
      <if test="merchantName != null">
        #{merchantName,jdbcType=VARCHAR},
      </if>
      <if test="settleType != null">
        #{settleType,jdbcType=VARCHAR},
      </if>
      <if test="settleCurrency != null">
        #{settleCurrency,jdbcType=VARCHAR},
      </if>
      <if test="settleAmount != null">
        #{settleAmount,jdbcType=DECIMAL},
      </if>
      <if test="feeSettleMethod != null">
        #{feeSettleMethod,jdbcType=VARCHAR},
      </if>
      <if test="settlementDate != null">
        #{settlementDate,jdbcType=VARCHAR},
      </if>
      <if test="orderBeginDate != null">
        #{orderBeginDate,jdbcType=VARCHAR},
      </if>
      <if test="orderEndDate != null">
        #{orderEndDate,jdbcType=VARCHAR},
      </if>
      <if test="settlementSummaryId != null">
        #{settlementSummaryId,jdbcType=VARCHAR},
      </if>
      <if test="summaryStatus != null">
        #{summaryStatus,jdbcType=VARCHAR},
      </if>
      <if test="accountingStatus != null">
        #{accountingStatus,jdbcType=VARCHAR},
      </if>
      <if test="accountingId != null">
        #{accountingId,jdbcType=VARCHAR},
      </if>
      <if test="accountingTime != null">
        #{accountingTime,jdbcType=TIMESTAMP},
      </if>
      <if test="gmtCreateTime != null">
        #{gmtCreateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="gmtUpdateTime != null">
        #{gmtUpdateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="transType != null">
      	#{transType,jdbcType=VARCHAR},
      </if>
      <if test="amountType != null">
        #{amountType,jdbcType=VARCHAR} ,
      </if>
      <if test="transCurrency != null">
        #{transCurrency,jdbcType=VARCHAR},
      </if>  
      <if test="transAmount != null">
         #{transAmount,jdbcType=DECIMAL},
      </if>  
      <if test="settlementOrderId != null">
      	#{settlementOrderId,jdbcType=VARCHAR},
      </if> 
       <if test="isValid != null">
      	#{isValid,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.ipaylinks.cmp.css.dal.model.MertSettlementOrder">
    <!--
      @MBG Generated
      This element is automatically generated by MyBatis Generator,Do not modify ! Generated on Thu May 24 17:03:46 CST 2018.
    -->
    update T_MERT_SETTLEMENT_ORDER
    <set>
      <if test="merchantId != null">
        MERCHANT_ID = #{merchantId,jdbcType=VARCHAR},
      </if>
      <if test="merchantName != null">
        MERCHANT_NAME = #{merchantName,jdbcType=VARCHAR},
      </if>
      <if test="settleType != null">
        SETTLE_TYPE = #{settleType,jdbcType=VARCHAR},
      </if>
      <if test="settleCurrency != null">
        SETTLE_CURRENCY = #{settleCurrency,jdbcType=VARCHAR},
      </if>
      <if test="settleAmount != null">
        SETTLE_AMOUNT = #{settleAmount,jdbcType=DECIMAL},
      </if>
      <if test="feeSettleMethod != null">
        FEE_SETTLE_METHOD = #{feeSettleMethod,jdbcType=VARCHAR},
      </if>
      <if test="settlementDate != null">
        SETTLEMENT_DATE = #{settlementDate,jdbcType=VARCHAR},
      </if>
      <if test="orderBeginDate != null">
        ORDER_BEGIN_DATE = #{orderBeginDate,jdbcType=VARCHAR},
      </if>
      <if test="orderEndDate != null">
        ORDER_END_DATE = #{orderEndDate,jdbcType=VARCHAR},
      </if>
      <if test="settlementSummaryId != null">
        SETTLEMENT_SUMMARY_ID = #{settlementSummaryId,jdbcType=VARCHAR},
      </if>
      <if test="summaryStatus != null">
        SUMMARY_STATUS = #{summaryStatus,jdbcType=VARCHAR},
      </if>
      <if test="accountingStatus != null">
        ACCOUNTING_STATUS = #{accountingStatus,jdbcType=VARCHAR},
      </if>
      <if test="accountingId != null">
        ACCOUNTING_ID = #{accountingId,jdbcType=VARCHAR},
      </if>
      <if test="accountingTime != null">
        ACCOUNTING_TIME = #{accountingTime,jdbcType=TIMESTAMP},
      </if>
      <if test="gmtCreateTime != null">
        GMT_CREATE_TIME = #{gmtCreateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="gmtUpdateTime != null">
        GMT_UPDATE_TIME = #{gmtUpdateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="transType != null">
         TRANS_TYPE= #{transType,jdbcType=VARCHAR},
      </if>
      <if test="amountType != null">
          AMOUNT_TYPE= #{amountType,jdbcType=VARCHAR} ,
      </if>
      <if test="transCurrency != null">
         TRANS_CURRENCY= #{transCurrency,jdbcType=VARCHAR},
      </if>  
      <if test="transAmount != null">
         TRANS_AMOUNT = #{transAmount,jdbcType=DECIMAL},
      </if>  
      <if test="settlementOrderId != null">
        SETTLEMENT_ORDER_ID= #{settlementOrderId,jdbcType=VARCHAR},
      </if>
      <if test="isValid != null">
        IS_VALID= #{isValid,jdbcType=VARCHAR},
      </if>   
    </set>
    where ID = #{id,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.ipaylinks.cmp.css.dal.model.MertSettlementOrder">
    <!--
      @MBG Generated
      This element is automatically generated by MyBatis Generator,Do not modify ! Generated on Thu May 24 17:03:46 CST 2018.
    -->
    update T_MERT_SETTLEMENT_ORDER
    set MERCHANT_ID = #{merchantId,jdbcType=VARCHAR},
      MERCHANT_NAME = #{merchantName,jdbcType=VARCHAR},
      SETTLE_TYPE = #{settleType,jdbcType=VARCHAR},
      SETTLE_CURRENCY = #{settleCurrency,jdbcType=VARCHAR},
      SETTLE_AMOUNT = #{settleAmount,jdbcType=DECIMAL},
      FEE_SETTLE_METHOD = #{feeSettleMethod,jdbcType=VARCHAR},
      SETTLEMENT_DATE = #{settlementDate,jdbcType=VARCHAR},
      ORDER_BEGIN_DATE = #{orderBeginDate,jdbcType=VARCHAR},
      ORDER_END_DATE = #{orderEndDate,jdbcType=VARCHAR},
      SETTLEMENT_SUMMARY_ID = #{settlementSummaryId,jdbcType=VARCHAR},
      SUMMARY_STATUS = #{summaryStatus,jdbcType=VARCHAR},
      ACCOUNTING_STATUS = #{accountingStatus,jdbcType=VARCHAR},
      ACCOUNTING_ID = #{accountingId,jdbcType=VARCHAR},
      ACCOUNTING_TIME = #{accountingTime,jdbcType=TIMESTAMP},
      GMT_CREATE_TIME = #{gmtCreateTime,jdbcType=TIMESTAMP},
      GMT_UPDATE_TIME = #{gmtUpdateTime,jdbcType=TIMESTAMP},
      TRANS_TYPE= #{transType,jdbcType=VARCHAR},
      AMOUNT_TYPE= #{amountType,jdbcType=VARCHAR} ,
      TRANS_CURRENCY= #{transCurrency,jdbcType=VARCHAR},
      TRANS_AMOUNT = #{transAmount,jdbcType=DECIMAL},
      SETTLEMENT_ORDER_ID= #{settlementOrderId,jdbcType=VARCHAR},
      IS_VALID= #{isValid,jdbcType=VARCHAR}
    where ID = #{id,jdbcType=VARCHAR}
  </update>
  
  
  
    <select id="getMertSettlementOrderAccountErrorDetail" parameterType="com.ipaylinks.cmp.css.dal.model.MertSettlementOrder" resultMap="BaseResultMap">
    <!--
      @MBG 获取记账失败的结算单明细列表
    -->
    select 
    <include refid="Base_Column_List" />
    from T_MERT_SETTLEMENT_ORDER
    where   ACCOUNTING_STATUS = #{accountingStatus,jdbcType=VARCHAR}
  </select>
  <!--
      @生成结算单编号
    -->
  <select id="getSettlementOrderId" resultType="java.lang.String">
    	SELECT '111'||TO_CHAR(SYSDATE, 'yymmdd')||SEQ_CYCLE_FOR_ID.nextval FROM DUAL
  </select>
  
  <select id="getSettlementOrderList"  parameterType="com.ipaylinks.cmp.css.dal.model.MertSettlementOrder" resultMap="BaseResultMap">
    <!--
      @MBG 根据结算汇总状态和结算时间和商户号及记账状态生成结算汇总单
    -->
      select sum(t.settle_amount) settle_amount,
         t.merchant_id,
         t.merchant_name,
         min(t.settlement_date) ORDER_BEGIN_DATE,
         max (t.settlement_date) ORDER_END_DATE,
         t.settle_currency,
         t.settlement_date
    from t_mert_settlement_order t
   where t.summary_status =#{summaryStatus,jdbcType=VARCHAR}
     and t.settlement_date <![CDATA[<=]]> #{settlementDate}
     and t.merchant_id = #{merchantId}
     and t.accounting_status = '0'
   group by t.merchant_id,
            t.settle_currency,
            t.settlement_date,
            t.merchant_name
  </select>
  

  <select id="getMertSettlementOrderList" parameterType="com.ipaylinks.cmp.css.dal.model.MertSettlementOrder"
          resultMap="BaseResultMap">
    select <include refid="Base_Column_List" /> from t_mert_settlement_order
    where 1 = 1 <include refid="queryConditionSql" />
    order by gmt_create_time desc
  </select>

  <sql id="queryConditionSql">
    <if test="merchantId != null and merchantId != ''">
      and merchant_id = #{merchantId}
    </if>
    <if test="transType != null and transType != ''">
      and trans_type = #{transType}
    </if>
    <if test="amountType != null and amountType != ''">
      and amount_type = #{amountType}
    </if>
    <if test="transCurrency != null and transCurrency != ''">
      and trans_currency = #{transCurrency}
    </if>
    <if test="settleCurrency != null and settleCurrency != ''">
      and settle_currency = #{settleCurrency}
    </if>
    <if test="accountingStatus != null and accountingStatus != ''">
      and accounting_status = #{accountingStatus}
    </if>
    <if test="summaryStatus != null and summaryStatus != ''">
      and summary_status = #{summaryStatus}
    </if>
    <if test="settlementSummaryId != null and settlementSummaryId != ''">
      and settlement_summary_id = #{settlementSummaryId}
    </if>
    <if test="settlementOrderId != null and settlementOrderId != ''">
      and settlement_order_id = #{settlementOrderId}
    </if>
    and settlement_date &gt;= #{orderBeginDate} and settlement_date &lt;= #{orderEndDate}
  </sql>
  
  <update id="updateMertSettlementOrder" parameterType="com.ipaylinks.cmp.css.dal.model.MertSettlementOrder">
    <!--
      @MBG 根据结算日期，结算币种，商户号，结算汇总单
    -->
    update T_MERT_SETTLEMENT_ORDER
    set  
      SETTLEMENT_SUMMARY_ID = #{settlementSummaryId,jdbcType=VARCHAR},
      SUMMARY_STATUS = '01',
      GMT_UPDATE_TIME = #{gmtUpdateTime,jdbcType=TIMESTAMP}
    where MERCHANT_ID = #{merchantId,jdbcType=VARCHAR} 
    	  AND SETTLE_CURRENCY = #{settleCurrency,jdbcType=VARCHAR} 
          AND SETTLEMENT_DATE  <![CDATA[ <= ]]> #{settlementDate}
          AND SUMMARY_STATUS = #{summaryStatus,jdbcType=VARCHAR}
  </update>
  
  <select id="getMertSettlementOrderListByAccount" parameterType="com.ipaylinks.cmp.css.dal.model.MertSettlementOrder" resultMap="BaseResultMap">
    <!--
      @MBG 获取代记账的结算单列表
    -->
    select
      <include refid="Base_Column_List" />
    from t_mert_settlement_order t
    where t.summary_status = #{summaryStatus,jdbcType=VARCHAR}
      AND t.settlement_date <![CDATA[ <= ]]>#{settlementDate}
      and t.accounting_status = #{accountingStatus}
      and t.merchant_id = #{merchantId,jdbcType=VARCHAR}
      and t.settlement_summary_id = #{settlementSummaryId,jdbcType=VARCHAR} order by  t.amount_type,t.trans_type asc
  </select>
  
    <select id="sumMertSettlementOrderAmount" parameterType="com.ipaylinks.cmp.css.dal.model.MertSettlementOrder" resultMap="BaseResultMap">
    <!--
      @MBG 获取代记账的结算单列表
    -->
    select
      sum(t.settle_amount) settle_amount
    from  t_mert_settlement_order t
    where t.summary_status = '01'
      and t.accounting_status = '1'
      and t.is_valid='0'
      and t.settle_currency = #{settleCurrency,jdbcType=VARCHAR} 
      and t.merchant_id = #{merchantId,jdbcType=VARCHAR}
      and t.settlement_summary_id = #{settlementSummaryId,jdbcType=VARCHAR}
    group by t.merchant_id,t.settlement_summary_id
  </select>
  
 <select id="getMertSettlementOrderListForReport" parameterType="com.ipaylinks.cmp.css.dal.model.MertSettlementOrder" resultMap="BaseResultMap">
    <!--
      @MBG 获取代记账的结算单列表
    -->
    select
     <include refid="Base_Column_List" />
    from  t_mert_settlement_order t
    where t.summary_status = '01'
      and t.accounting_status = '1'
      and t.is_valid='0'
      and t.settlement_date <![CDATA[ <= ]]>#{settlementDate}
      and t.settle_currency = #{settleCurrency,jdbcType=VARCHAR} 
      and t.merchant_id = #{merchantId,jdbcType=VARCHAR}
      and t.settlement_summary_id = #{settlementSummaryId,jdbcType=VARCHAR}
  </select>
  
      <select id="getMertSettlementOrderErrorList" parameterType="com.ipaylinks.cmp.css.dal.model.MertSettlementOrder" resultMap="BaseResultMap">
    <!--
      @MBG 获取异常的记账数据和结算汇总数据
    -->
    select
      <include refid="Base_Column_List" />
    from  t_mert_settlement_order t
    where t.summary_status  <![CDATA[<>]]>#{summaryStatus}
      and t.accounting_status <![CDATA[<>]]>#{accountingStatus}
      and t.is_valid='0'
  </select>
</mapper>